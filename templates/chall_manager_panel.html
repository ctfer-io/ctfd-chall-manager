{% extends "chall_manager_base.html" %}

{% block menu %}
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/settings">ðŸ”— Settings</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/instances">ðŸ”—  Instances</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/mana">ðŸ”— Mana</a>
    </li>
    <li class="nav-item">
        <a class="nav-link active" href="#">Panel</a>
    </li>
{% endblock %}

{% block panel %}


<a class="row">    
  
  <div class="col-md-6">
    Source Id pattern : 
    <input type="text" class="form-control"
                   id="panel-source-pattern"
                   data-test-id="panel-source-pattern" 
                   placeholder="1,3-5,10">

    Available IaC Challenges
  <div class="col-md-12">
      <table class="table table-striped border">
          <thead>
          <tr>
              <th class="border-right" data-checkbox>
                  <div class="form-check text-center">&nbsp;
                      <input type="checkbox" class="form-check-input" 
                      data-test-id="panel-challenge-checkbox" 
                      data-checkbox-all>
                  </div>
              </th>
              <th class="sort-col text-center"><b>ID</b></td>
          </tr>
          </thead>

          <tbody>
              {% for challenge in challenges %}
              <tr>
                  <td class="border-right" data-checkbox>
                      <div class="form-check text-center">&nbsp;
                          <input type="checkbox" class="form-check-input" 
                          data-challenge-id="{{ challenge.id }}">
                      </div>
                  </td>
              
                  <td class="text-center">
                    <div class="form-check" id="challenge-id-div">
                        <a href="{{ url_for('admin.challenges_detail', challenge_id=challenge.id) }}">
                            {{ challenge.name }}
                        </a>
                    </div>
                  </td>
              {% endfor %}
          
          </tbody>
      </table>
  </div>
</div>

<button type="button" class="btn btn-outline-secondary" data-toggle="tooltip" title="" id="instances-create-button" 
    data-original-title="Provisioner"
    data-test-id="panel-preprovisioning-button">
  <i class="fa-solid fa-octagon-plus"></i> 
  Pre-provisioning
  <!-- FIXME the button increase with the table rows  -->
</button>


{% endblock %}

{% block scripts %}
    <script defer src="{{ url_for('plugins.ctfd-chall-manager.assets', path='instances.js') }}"></script>
{% endblock %}